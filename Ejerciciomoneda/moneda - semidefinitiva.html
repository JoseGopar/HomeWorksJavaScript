<!DOCTYPE html>

<html>
<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="../css/bootstrap.css">
	<title>LanzaMonedas</title>
	<script language="javascript">
	function cargaFrame(){
		document.getElementById("imagen").src="imagenes/flip.gif";
		document.getElementById("cara").src="imagenes/cara.gif";
		document.getElementById("cruz").src="imagenes/cruz.gif";
		document.getElementById("veces").innerHTML = "<b>Ganadas:</b> "+ganadas+"   <b>Perdidas:</b> "+perdidas;
	}
	</script>
	<style>
        button:active{
            background:#393D48;
        }
        button:focus{
            background:rgb(209, 22, 22);
        }
        .center {
            text-align: center;
        }
	</style>
	
<!--	scrips de JS	-->
<script language="javascript">
		var monedaelegida=0;
		var monedas=["imagenes/cruz.gif","imagenes/cara.gif"];
		var nombremon=["cruz","cara"];
		var rnd;caramoneda=0;ganadas=0;perdidas=0;funciona=true;
		
		function randommoneda(usercoin){
		rnd=Math.round(Math.random());
		var count=0;
		var timer=setInterval(function(){
			if(caramoneda==1){
				document.getElementById("imagen").src=monedas[caramoneda];	//cambia la imagen del setInterval
				caramoneda=0;
			} else{
				document.getElementById("imagen").src=monedas[caramoneda];
				caramoneda=1;
			}
			count++;
			if(count >= 23) {		//concluye setInterval y limpia la variable
				clearInterval(timer);
				document.getElementById("imagen").src=monedas[rnd];
				comprueba(usercoin);
			}
			}, 120);
		}
		function eleccion(eleg){
		if(funciona==true){
		if (eleg==1){
		document.getElementById("cara").src="imagenes/cara.gif";
		} else if (eleg==0){
		document.getElementById("cruz").src="imagenes/cruz.gif";
		}
		randommoneda(eleg);
		funciona=false;
		}
	}
		function comprueba(usercoin){
		if(rnd == usercoin){
			document.getElementById("mensaje").innerHTML = "<b>Ganaste</b>";
			document.getElementById("oculto").style.display = 'block';
			ganadas++;
			document.getElementById("veces").innerHTML = "Has ganado: "+ganadas+" veces y  Has perdido: "+perdidas+" veces";
		} else{
			document.getElementById("mensaje").innerHTML = "<b>Perdiste</b>";
			document.getElementById("oculto").style.display = 'block';
			perdidas++;
			document.getElementById("veces").innerHTML = "Has ganado: "+ganadas+" veces y  Has perdido: "+perdidas+" veces";
			}
		}
		function reinicio(){
			document.getElementById("oculto").style.display = 'none';
			document.getElementById("imagen").src="imagenes/flip.gif";
			document.getElementById("cara").src="imagenes/cara.gif";
			document.getElementById("cruz").src="imagenes/cruz.gif";
			var rnd=Math.round(Math.random());
			var count=0;
			document.getElementById("salida").innerHTML = "";
			document.getElementById("mensaje").innerHTML = "";
			funciona=true;
		}
     </script>


</head>
<body onload="cargaFrame();">
     
<div class="container">
    <div class="jumbotron">
        <center>
            <h2>Juega a Cara o Cruz</h2>
            <input type="button" onclick="location.href='../index.html';" value="Volver a P치gina Principal">
            <input type="button" onclick="location.href='./caraocruz.html';" value="Jugar con jQuery">
        </center>
    </div>
    <div class="container">
        <img class="img-responsive" src="../imagenes/desarrolloweb.png" alt="cabecera" />
        <p>1. Elige tu lado de la moneda: cara o cruz.</p>
        <p>2. El juego dar치 comienzo de modo autom치tico</p>
        <p>3. Podr치s comprobar las veces que has ganado o perdido y volver a tirar.</p>
    </div>
    <div class="container">
	 <div style="width:50%; text-align:center;float:left">
	 <br>
<button onclick="eleccion(0);" alt="cruz" style="padding-top: 12px;padding-bottom: 12px;padding-left: 12px;padding-right: 12px;border-top-width: 5px;border-top-style: solid;margin-bottom: 5px;border-right-width: 5px;border-right-style: solid;border-left-width: 5px;border-left-style: solid;">
	 <img src="" id="cruz" alt="cruz"  style="height: 200px;width: 200px;"/>
</button>
	 <br><br>
	 </div>
	 <div style="width:50%; text-align:center;float:left">
	 <br>
<button onclick="eleccion(1);" alt="cara" style="padding-top: 12px;padding-bottom: 12px;padding-left: 12px;padding-right: 12px;border-top-width: 5px;border-top-style: solid;margin-bottom: 5px;border-right-width: 5px;border-right-style: solid;border-left-width: 5px;border-left-style: solid;">
	 <img src="" id="cara" alt="cara"  style="height: 200px;width: 200px;"/>
</button>
	<br><br>
	 </div>
	 <div align="center" style="text-align:center;float:left;width:100%">
	 <p id="salida" style="margin-top:auto"></p>
	 <img src="" id="imagen" alt="aleatorio" style="height: 250px;width: 250px"/>
	<br>
	<p id="veces" align="center"></p>
	 </div>
	 <div id="oculto" align="center" style="text-align:center;float:left;width:100%;display:none;">
	 <p id="mensaje"></p>
	 <input type="button" value="Tirar de nuevo" name="iniciador" id="a" onclick="reinicio();" />
	 <br><br><br><br>
	 </div>
	 <br><br><br><br>
	 </div>
	 <br><br><br><br>
</body>
</html>
